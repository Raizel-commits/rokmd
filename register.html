<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>ROKXD • Register</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  background: radial-gradient(circle at top, #0f172a, #020617);
  font-family: Arial, sans-serif;
  display:flex;
  justify-content:center;
  align-items:center;
  height:100vh;
  color:#e5e7eb;
}
.box{
  background:rgba(255,255,255,0.05);
  backdrop-filter: blur(12px);
  padding:30px;
  border-radius:16px;
  width:320px;
  box-shadow:0 0 30px rgba(56,189,248,.4);
}
h2{text-align:center;color:#38bdf8}
input,button{
  width:100%;
  padding:12px;
  margin-top:10px;
  border:none;
  border-radius:8px;
}
input{background:#020617;color:#fff}
button{
  background:#38bdf8;
  font-weight:bold;
  cursor:pointer;
}
a{color:#38bdf8;text-decoration:none}
.error{color:#f87171;margin-top:10px}
</style>
</head>

<body>
<div class="box">
<h2>Inscription</h2>

<input id="email" type="email" placeholder="Email">
<input id="password" type="password" placeholder="Mot de passe (8+)">

<button onclick="register()">Créer le compte</button>
<p class="error" id="err"></p>
<p style="text-align:center;margin-top:10px">
<a href="/login">Déjà inscrit ?</a>
</p>
</div>

<script>
async function register(){
  const email = email.value;
  const password = password.value;

  const res = await fetch("/auth/register",{
    method:"POST",
    headers:{"Content-Type":"application/json"},
    body:JSON.stringify({email,password})
  });

  const data = await res.json();
  if(data.success) location.href="/panel";
  else err.textContent = data.error;
}
</script>
</body>
</html>
