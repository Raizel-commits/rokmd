<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ROK XD • WhatsApp Bot</title>
<style>
:root{
  --bg-1:#020617;
  --bg-2:#0f172a;
  --neon:#38bdf8;
  --glass-border:rgba(56,189,248,0.22);
  --muted:rgba(255,255,255,0.45);
  --card-w:380px;
}
*{box-sizing:border-box;}
html,body{
  height:100%;
  margin:0;
  font-family:"Inter",system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial;
  background: radial-gradient(1200px 600px at 10% 10%, rgba(56,189,248,0.03), transparent),
              radial-gradient(900px 500px at 90% 85%, rgba(56,189,248,0.02), transparent),
              linear-gradient(180deg,var(--bg-1),var(--bg-2));
  color:#dfffe6;
  overflow:hidden;
}
.stage{
  position:relative;
  height:100vh;
  display:flex;
  align-items:center;
  justify-content:center;
  padding:36px;
}
.glass-card{
  width:var(--card-w);
  max-width:92vw;
  background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
  border-radius:18px;
  padding:22px;
  box-shadow:0 10px 40px rgba(0,0,0,0.7),0 0 40px rgba(56,189,248,0.05) inset;
  backdrop-filter: blur(10px) saturate(140%);
  border:1px solid var(--glass-border);
  text-align:center;
  position:relative;
}
.card-header h1{
  font-family:"JetBrains Mono", monospace;
  font-size:24px;
  margin:0;
  color:var(--neon);
  text-transform:uppercase;
  text-shadow:0 0 18px rgba(56,189,248,0.22);
}
.card-header .small-url{
  font-size:12px;
  color:var(--muted);
  margin-top:6px;
}
.btn{
  display:block;
  width:100%;
  padding:12px;
  margin:10px 0;
  font-size:16px;
  font-weight:bold;
  color:#020617;
  background:var(--neon);
  border:none;
  border-radius:6px;
  text-decoration:none;
  cursor:pointer;
  text-align:center;
}
.btn:hover{opacity:0.9;}
.social-icons{
  display:flex;
  justify-content:center;
  gap:15px;
  margin-top:15px;
}
.social-icons a{
  display:flex;
  align-items:center;
  justify-content:center;
  width:40px;
  height:40px;
  border-radius:50%;
  background:var(--neon);
  color:#020617;
  text-decoration:none;
  font-weight:bold;
  font-size:20px;
}
.credits{font-size:12px;color:var(--muted);margin-top:20px;}

/* Avatar */
.avatar img{
  width:60px;
  height:60px;
  border-radius:50%;
  border:2px solid var(--neon);
  margin-bottom:10px;
}

/* Menu trois traits */
.menu-icon{
  position:absolute;
  top:16px;
  right:16px;
  width:30px;
  height:22px;
  cursor:pointer;
  display:flex;
  flex-direction:column;
  justify-content:space-between;
}
.menu-icon div{
  height:4px;
  background:var(--neon);
  border-radius:2px;
}
.menu-content{
  display:none;
  position:absolute;
  top:50px;
  right:16px;
  background:rgba(0,0,0,0.7);
  border:1px solid var(--glass-border);
  border-radius:12px;
  padding:10px;
  text-align:left;
  width:200px;
  z-index:100;
}
.menu-content a{
  display:block;
  color:#dfffe6;
  padding:8px 0;
  text-decoration:none;
}
.menu-content a:hover{
  color:#38bdf8;
}

/* Coins */
.coins{
  display:flex;
  justify-content:center;
  align-items:center;
  margin-bottom:12px;
  font-weight:bold;
}
.coins span{margin-left:8px;color:#38bdf8;}

/* Coin add button */
.add-coin{
  margin-left:10px;
  background:#38bdf8;
  color:#020617;
  border:none;
  border-radius:6px;
  cursor:pointer;
  padding:2px 8px;
  font-weight:bold;
}
.add-coin:hover{opacity:0.9;}
</style>
</head>
<body>
<main class="stage">
<section class="glass-card">
  <div class="menu-icon" id="menuBtn">
    <div></div>
    <div></div>
    <div></div>
  </div>
  <div class="menu-content" id="menuContent">
    <a href="#" id="referralLink">Lien de parrainage</a>
    <a href="#">Help</a>
    <a href="https://wa.me/237699777530" target="_blank">RAIZEL</a>
    <a href="https://wa.me/237673941535" target="_blank">KNUT</a>
  </div>

  <div class="avatar">
    <img src="https://files.catbox.moe/36ywf8.jpeg" alt="Avatar">
  </div>

  <header class="card-header">
    <h1>ROK XD</h1>
    <div class="small-url">WhatsApp Bot</div>
  </header>

  <div class="coins">
    Coins: <span id="coinCount">0</span>
    <button class="add-coin" onclick="addCoins()">+</button>
  </div>

  <a href="pair" class="btn" id="pairBtn">Pairing Code (20 coins)</a>
  <a href="qrpage" class="btn" id="qrBtn">QR Code (20 coins)</a>

  <div class="social-icons">
    <a href="https://t.me/devraizel" target="_blank">T</a>
    <a href="https://wa.me/237673941535" target="_blank">W</a>
  </div>
  <div class="credits">Développé par RAIZEL & KNUT</div>
</section>
</main>

<script>
// Menu toggle
const menuBtn = document.getElementById("menuBtn");
const menuContent = document.getElementById("menuContent");
menuBtn.onclick = () => {
  menuContent.style.display = menuContent.style.display === "block" ? "none" : "block";
};

// Fetch coins
let coins = 0;
async function loadCoins(){
  const r = await fetch("/coins");
  const data = await r.json();
  coins = data.coins || 0;
  document.getElementById("coinCount").textContent = coins;
}
loadCoins();

// Add coins placeholder (could open Money Fusion payment)
function addCoins(){
  alert("Ajouter des coins via paiement Money Fusion ou lien de parrainage !");
}

// Check coins before pair / qr
document.getElementById("pairBtn").onclick = (e)=>{
  if(coins < 20){ e.preventDefault(); alert("Coins insuffisants (20 coins requis)"); return false; }
};
document.getElementById("qrBtn").onclick = (e)=>{
  if(coins < 20){ e.preventDefault(); alert("Coins insuffisants (20 coins requis)"); return false; }
};

// Referral link
document.getElementById("referralLink").onclick = ()=>{
  const username = prompt("Entrez votre nom d'utilisateur pour générer le lien de parrainage :");
  if(username) alert(`Partage ce lien pour gagner 5 coins à chaque inscription : ${window.location.origin}/register?ref=${username}`);
};
</script>
</body>
</html>
